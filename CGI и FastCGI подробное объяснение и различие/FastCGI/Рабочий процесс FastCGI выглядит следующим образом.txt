【Этап подготовки】:

Когда веб-сервер запускается, инициализируйте среду выполнения программы FastCGI. Например, сервер Nginx, соответствующийngx_http_fastcgi_module Модуль

Менеджер процессов FastCGI инициализируется, запускает несколько процессов интерпретатора CGI и ожидает соединений от веб-сервера. Например, используйте диспетчер процессов spawn-fcgi FastCGI для запуска демонстрации:

spawn-fcgi -a 127.0.0.1 -p 8080 -f /opt/nginx-1.7.7/cgi-bin/demo

Примечание. Когда процесс FastCGI запущен, его можно настроить для запуска в доменном сокете IP или UNIX.

【Этап циркуляции】:

Когда клиентский запрос поступает на веб-сервер, веб-сервер пересылает запрос основному процессу FastCGI в методе сокета. Главный процесс FastCGI выбирает и подключается к интерпретатору CGI (связанному с дочерним процессом FastCGI). Затем веб-сервер объединяет переменные среды CGI с Стандартный ввод отправляется дочернему процессу FastCGI.

После того, как подпроцесс FastCGI завершает обработку, он возвращает стандартный вывод и сообщение об ошибке из того же сокет-соединения на веб-сервер. Наконец, дочерний процесс FastCGI закрывает соединение с веб-сервером.

Дочерний процесс FastCGI продолжает ждать и обрабатывать следующее соединение с веб-сервером.